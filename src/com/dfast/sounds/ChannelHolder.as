package com.dfast.sounds {	import flash.events.Event;	import flash.events.EventDispatcher;	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.media.SoundTransform;		/**	 * ...	 * @author Derrick Williams	 */	public class ChannelHolder extends EventDispatcher	{		public var name : String;		public var paused : Boolean;		public var pausePosition : Number;		public var sound : Sound;		public var soundChannel : SoundChannel;		public var volume : Number = 1;		public var loops : Number;		public var muted:Boolean = false;				public function ChannelHolder(name:String, pausePosition:Number = 0) 		{			this.name = name;			this.soundChannel = new SoundChannel();			this.pausePosition = pausePosition;		}				public function play() : void		{						soundChannel = sound.play(0, 0, new SoundTransform(this.volume));			soundChannel.soundTransform.volume = this.volume;			soundChannel.addEventListener( Event.SOUND_COMPLETE, onSoundComplete );		}				private function onSoundComplete(event:Event):void 		{			if (loops > 0){				play();				loops--;			}		}				public function mute() : void		{			trace(name + " muted!");			this.volume = 0;			this.muted = true;			var soundTransform:SoundTransform = soundChannel.soundTransform;			soundTransform.volume = this.volume;			soundChannel.soundTransform = soundTransform;		}				public function unmute() : void		{			trace(name + " unmuted!");			this.volume = 1;			this.muted = false;			var soundTransform:SoundTransform = soundChannel.soundTransform;			soundTransform.volume = this.volume;			soundChannel.soundTransform = soundTransform;		}				public function stop() : void		{			//sound.close();			soundChannel.stop();		}			}	}